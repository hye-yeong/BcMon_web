{"ast":null,"code":"//x축, y축 값 변경\n//_id 말고 다른 값\nvar result; //zoom in zoom out chart data\n\nfunction sleep(delay) {\n  var start = new Date().getTime();\n\n  while (new Date().getTime() < start + delay) {\n    ;\n  }\n} //render zoom in zoom out graph\n\n\nfunction renderZoomChart(url, tag, title, yName, xName, caption) {\n  var xhr = new XMLHttpRequest(); // xhr은 XMLHttpRequest 객체(http를 통해 데이터를 받음)\n\n  xhr.open(\"get\", url, false); // tx합 json 데이터를 을 비동기 방식  / get 방식으로 읽어들임\n\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState === 4) {\n      // 통신 상태가 4 = 양호 확인\n      if (xhr.status === 200) {\n        //status 가 200일 경우 아래 process; 로 진행\n        result = process(tag, title, yName, xName, caption, xhr); // 프로세스를 부르겠다는 의미 >> 아래 function process로 진행\n\n        return result;\n      } else {\n        alert(title + \"그래프 데이터 요청 실패:\" + xhr.status); // if의 내용이 실패시 요청 실패 : 오류 메시지 출력\n      }\n    }\n  };\n\n  xhr.send(null);\n  return result;\n}\n\nfunction process(tag, title, yName, xName, caption, xhr) {\n  // 프로세스를 부름\n  var data = xhr.responseText; // get은 Text 방식으로\n\n  var parseData = JSON.parse(data); //객체화 : 배열 처리\n\n  var datasource = {};\n  var label = {};\n  var value = {};\n  var temp_key = \"\";\n  var temp_value = \"\";\n  label = {\n    \"category\": \"\"\n  };\n  value = {\n    \"serisename\": \"test\",\n    \"data\": \"\"\n  };\n\n  try {\n    if (parseData.length < 366) {\n      for (var i = 0; i < parseData.length; i++) {\n        temp_key += parseData[i].range + '|';\n        temp_value += parseData[i][tag] + '|';\n      }\n\n      ;\n    } else {\n      for (var index = 0; index < parseData.length; index++) {\n        temp_key += parseData[index].range + '|';\n        temp_value += parseData[index][tag] + '|';\n      }\n\n      ;\n    }\n  } catch (e) {\n    return datasource;\n  }\n\n  temp_key = temp_key.slice(0, -1);\n  temp_value = temp_value.slice(0, -1);\n  label.category = temp_key;\n  value.data = temp_value;\n  datasource = {\n    \"chart\": {\n      \"caption\": title,\n      \"yaxisname\": yName,\n      \"xaxisname\": xName,\n      \"subcaption\": caption,\n      \"forceaxislimits\": \"1\",\n      \"pixelsperpoint\": \"0\",\n      \"pixelsperlabel\": \"30\",\n      \"compactdatamode\": \"1\",\n      \"theme\": \"fusion\",\n      \"numberscalevalue\": \"1000,1000,1000,1000,1000\",\n      \"numberscaleunit\": \"K,M,G,T,P\",\n      \"showBorder\": \"0\",\n      \"showShadow\": \"0\",\n      //use3DLighting: \"0\",\n      \"bgColor\": \"#27293d\",\n      //bgAlpha: \"0\",\n      \"canvasBgAlpha\": \"0\",\n      \"plotBorderAlpha\": \"0\",\n      \"toolTipBgcolor\": \"#484E69\",\n      //toolTipPadding: \"7\",\n      \"tooltipBorderThickness\": \"0.7\",\n      \"toolTipColor\": \"#FDFDFD\",\n      \"baseFont\": \"\",\n      \"baseFontSize\": \"10\",\n      \"baseFontColor\": \"#FDFDFD\",\n      \"showLegend\": \"1\",\n      \"legendShadow\": \"0\",\n      \"legendBorderAlpha\": \"0\",\n      \"drawCustomLegendIcon\": \"1\",\n      \"legendBgAlpha\": \"0\",\n      \"showAlternateHGridColor\": \"0\",\n      // chartTopMargin: \"-10\",\n      // canvasTopMargin: \"-10\",\n      // chartBottomMargin: \"20\",\n      // canvasBottomMargin: \"20\",\n      \"legendNumColumns\": \"1\",\n      \"legendPosition\": \"RIGHT\",\n      \"defaultCenterLabel\": \"Total <br> $214\",\n      \"centerLabel\": \"$label<br>$value\",\n      \"centerLabelBold\": \"1\",\n      \"centerLabelFontSize\": \"20\",\n      \"enableRotation\": \"0\",\n      \"transposeAnimation\": \"1\",\n      \"plotToolText\": \"<div>$label<br>$dataValue<div>\"\n    },\n    \"categories\": [label],\n    \"dataset\": [value]\n  };\n  return datasource;\n}\n\nmodule.exports = {\n  sleep: sleep,\n  renderZoomChart: renderZoomChart\n};","map":{"version":3,"sources":["/project/src/variables/charts_caption2_total.js"],"names":["result","sleep","delay","start","Date","getTime","renderZoomChart","url","tag","title","yName","xName","caption","xhr","XMLHttpRequest","open","onreadystatechange","readyState","status","process","alert","send","data","responseText","parseData","JSON","parse","datasource","label","value","temp_key","temp_value","length","i","range","index","e","slice","category","module","exports"],"mappings":"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","sourcesContent":["//x축, y축 값 변경\n//_id 말고 다른 값\nlet result; //zoom in zoom out chart data\n\nfunction sleep (delay) {\n  var start = new Date().getTime();\n  while (new Date().getTime() < start + delay);\n}\n\n//render zoom in zoom out graph\nfunction renderZoomChart(url, tag, title, yName, xName, caption){\n  var xhr = new XMLHttpRequest(); // xhr은 XMLHttpRequest 객체(http를 통해 데이터를 받음)\n  xhr.open(\"get\", url, false); // tx합 json 데이터를 을 비동기 방식  / get 방식으로 읽어들임\n  xhr.onreadystatechange = function(){\n      if(xhr.readyState === 4){ // 통신 상태가 4 = 양호 확인\n          if(xhr.status === 200){ //status 가 200일 경우 아래 process; 로 진행\n              result = process(tag, title, yName, xName, caption, xhr); // 프로세스를 부르겠다는 의미 >> 아래 function process로 진행\n              return result;\n          }else{\n                alert(title+\"그래프 데이터 요청 실패:\" + xhr.status); // if의 내용이 실패시 요청 실패 : 오류 메시지 출력\n          }\n      }\n  }\n  xhr.send(null);\n  return result;\n}\n\nfunction process(tag, title, yName, xName, caption, xhr){  // 프로세스를 부름\n  var data = xhr.responseText;          // get은 Text 방식으로\n  var parseData = JSON.parse(data);     //객체화 : 배열 처리\n\n  var datasource = {};\n  var label = {};\n  var value = {};\n\n  var temp_key = \"\";\n  var temp_value = \"\";\n\n  label = {\"category\" : \"\"}\n  value = {\"serisename\" : \"test\", \"data\" : \"\" }\n\n  try {\n    if(parseData.length < 366) {\n      for(var i = 0; i <parseData.length; i++) {\n        temp_key += parseData[i].range + '|';\n        temp_value += parseData[i][tag] + '|';\n      };\n    }\n    else {\n      for(var index = 0; index < parseData.length; index++) {\n        temp_key += parseData[index].range + '|';\n        temp_value += parseData[index][tag] + '|';\n      };\n    }\n  } catch (e) {\n    return datasource;\n  }\n\n  temp_key = temp_key.slice(0, -1);\n  temp_value = temp_value.slice(0, -1);\n\n  label.category = temp_key;\n  value.data = temp_value;\n\n  datasource = {\n  \"chart\": {\n    \"caption\": title,\n    \"yaxisname\": yName,\n    \"xaxisname\": xName,\n    \"subcaption\": caption,\n    \"forceaxislimits\": \"1\",\n    \"pixelsperpoint\": \"0\",\n    \"pixelsperlabel\": \"30\",\n    \"compactdatamode\": \"1\",\n    \"theme\": \"fusion\",\n\n    \"numberscalevalue\": \"1000,1000,1000,1000,1000\",\n    \"numberscaleunit\": \"K,M,G,T,P\",\n\n    \"showBorder\": \"0\",\n    \"showShadow\": \"0\",\n    //use3DLighting: \"0\",\n    \"bgColor\": \"#27293d\",\n    //bgAlpha: \"0\",\n    \"canvasBgAlpha\": \"0\",\n    \"plotBorderAlpha\": \"0\",\n\n    \"toolTipBgcolor\": \"#484E69\",\n    //toolTipPadding: \"7\",\n    \"tooltipBorderThickness\": \"0.7\",\n    \"toolTipColor\": \"#FDFDFD\",\n    \"baseFont\": \"\",\n    \"baseFontSize\": \"10\",\n    \"baseFontColor\": \"#FDFDFD\",\n\n    \"showLegend\": \"1\",\n    \"legendShadow\": \"0\",\n    \"legendBorderAlpha\": \"0\",\n    \"drawCustomLegendIcon\": \"1\",\n    \"legendBgAlpha\": \"0\",\n\n    \"showAlternateHGridColor\": \"0\",\n    // chartTopMargin: \"-10\",\n    // canvasTopMargin: \"-10\",\n    // chartBottomMargin: \"20\",\n    // canvasBottomMargin: \"20\",\n\n    \"legendNumColumns\": \"1\",\n    \"legendPosition\": \"RIGHT\",\n    \"defaultCenterLabel\": \"Total <br> $214\",\n    \"centerLabel\": \"$label<br>$value\",\n    \"centerLabelBold\": \"1\",\n    \"centerLabelFontSize\": \"20\",\n    \"enableRotation\": \"0\",\n    \"transposeAnimation\": \"1\",\n    \"plotToolText\": \"<div>$label<br>$dataValue<div>\"\n  }\n  ,\n    \"categories\": [label],\n    \"dataset\": [value]\n};\n\nreturn datasource;\n}\n\nmodule.exports = {\n  sleep,\n  renderZoomChart,\n};\n"]},"metadata":{},"sourceType":"module"}